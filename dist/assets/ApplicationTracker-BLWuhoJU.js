var T=Object.defineProperty,P=Object.defineProperties;var $=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var v=(r,a,s)=>a in r?T(r,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[a]=s,N=(r,a)=>{for(var s in a||(a={}))_.call(a,s)&&v(r,s,a[s]);if(w)for(var s of w(a))E.call(a,s)&&v(r,s,a[s]);return r},D=(r,a)=>P(r,$(a));import{j as e,d as S,F as p,Y as b,r as u,a0 as R,D as k,m as B,K as F}from"./index-Cc6i9FY3.js";import{S as O}from"./StatsCard-DmiEDVLO.js";import{P as U}from"./ProgressChart-msPvvu8Y.js";import{B as H}from"./badge-CUgocmjb.js";import{D as J,a as V,b as Y,c as z,d as K}from"./dialog-BZ6q4n7v.js";import{C as A}from"./check-circle-2-DxU3af2J.js";import{C as o}from"./clock-3le7_Tb5.js";import{A as x}from"./alert-circle-enoIV1Dn.js";import{C}from"./calendar-DvWcoNSh.js";import{X as M}from"./x-circle-DjfRNPkk.js";import{M as W}from"./message-square-DpV64dA8.js";import{C as X}from"./check-circle-6_ZrZ1zl.js";import"./index-sIDqVUJt.js";import"./index-Bdk3QEIO.js";import"./index-DukGqCgU.js";import"./index-DDVEufwb.js";const q=({isOpen:r,onClose:a,application:s})=>{if(!s)return null;const g=n=>{switch(n){case"pending":return e.jsx(o,{className:"w-5 h-5 text-yellow-600"});case"interview":return e.jsx(W,{className:"w-5 h-5 text-blue-600"});case"accepted":return e.jsx(A,{className:"w-5 h-5 text-green-600"});case"rejected":return e.jsx(M,{className:"w-5 h-5 text-red-600"});default:return e.jsx(x,{className:"w-5 h-5 text-gray-600"})}},l=n=>{switch(n){case"pending":return"bg-yellow-100 text-yellow-700 border-yellow-300";case"interview":return"bg-blue-100 text-blue-700 border-blue-300";case"accepted":return"bg-green-100 text-green-700 border-green-300";case"rejected":return"bg-red-100 text-red-700 border-red-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}},j=n=>{switch(n){case"pending":return"Sedang Ditinjau";case"interview":return"Tahap Interview";case"accepted":return"Diterima";case"rejected":return"Ditolak";default:return n}},c=[{date:s.appliedDate,title:"Lamaran Dikirim",description:"Anda telah mengirimkan lamaran untuk posisi ini",completed:!0},{date:s.status!=="pending"?"Dalam proses":"Menunggu",title:"Review HRD",description:"Tim HRD sedang meninjau lamaran Anda",completed:s.status!=="pending"},{date:s.interviewDate||"Akan dijadwalkan",title:"Interview",description:s.interviewDate?"Interview telah dijadwalkan":"Menunggu jadwal interview",completed:s.status==="interview"||s.status==="accepted"},{date:s.status==="accepted"||s.status==="rejected"?"Selesai":"Menunggu",title:"Keputusan Akhir",description:s.status==="accepted"?"Selamat! Anda diterima":s.status==="rejected"?"Mohon maaf, lamaran ditolak":"Menunggu keputusan final",completed:s.status==="accepted"||s.status==="rejected"}];return e.jsx(J,{open:r,onOpenChange:a,children:e.jsxs(V,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Y,{children:[e.jsx(z,{className:"text-2xl font-bold",children:"Detail Lamaran"}),e.jsx(K,{children:"Informasi lengkap tentang status lamaran Anda"})]}),e.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-primary-100 rounded-xl p-6 border border-primary-200",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-2xl font-bold flex-shrink-0 shadow-lg",children:s.company.name.charAt(0)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:s.position}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-3",children:[e.jsx(S,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:s.company.name})]}),e.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-lg border-2 ${l(s.status)}`,children:[g(s.status),e.jsx("span",{className:"font-semibold",children:j(s.status)})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Progress Lamaran"}),e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s.progress,"% Complete"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-600 rounded-full transition-all duration-500",style:{width:`${s.progress}%`}})})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(p,{className:"w-5 h-5 text-primary-600"}),"Timeline Proses"]}),e.jsx("div",{className:"space-y-4",children:c.map((n,h)=>e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 ${n.completed?"bg-primary-100 border-primary-500":"bg-gray-100 border-gray-300"}`,children:n.completed?e.jsx(A,{className:"w-5 h-5 text-primary-600"}):e.jsx(o,{className:"w-5 h-5 text-gray-400"})}),h<c.length-1&&e.jsx("div",{className:`w-0.5 h-12 ${n.completed?"bg-primary-300":"bg-gray-300"}`})]}),e.jsxs("div",{className:"flex-1 pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h5",{className:`font-semibold ${n.completed?"text-gray-900":"text-gray-500"}`,children:n.title}),e.jsx("span",{className:"text-xs text-gray-500",children:n.date})]}),e.jsx("p",{className:"text-sm text-gray-600",children:n.description})]})]},h))})]}),s.nextStep&&e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-4 border border-blue-200",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(x,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-1",children:"Langkah Selanjutnya"}),e.jsx("p",{className:"text-sm text-blue-700",children:s.nextStep}),s.interviewDate&&e.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-blue-700",children:[e.jsx(C,{className:"w-4 h-4"}),e.jsxs("span",{className:"font-medium",children:["Interview: ",new Date(s.interviewDate).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Dilamar pada ",new Date(s.appliedDate).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})]}),e.jsxs("div",{className:"flex gap-2",children:[s.status==="interview"&&e.jsx(b,{className:"bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800",children:"Persiapan Interview"}),e.jsx(b,{variant:"outline",onClick:a,children:"Tutup"})]})]})]})})},G=r=>{const a={applied:20,screening:40,interview:70,offer:90,accepted:100,rejected:50},s={applied:"Waiting for Review",screening:"Application Screening",interview:"Interview Schedule",offer:"Offer Review",accepted:"Onboarding",rejected:"Application Closed"};return{id:r.id,company:{name:r.company,logo:r.companyLogo},position:r.jobTitle,appliedDate:new Date(r.appliedAt).toISOString().split("T")[0],status:r.status,progress:a[r.status],nextStep:s[r.status],location:r.location,salary:r.salary}},Q=r=>{switch(r){case"applied":return e.jsx(o,{className:"w-4 h-4"});case"screening":return e.jsx(p,{className:"w-4 h-4"});case"interview":return e.jsx(x,{className:"w-4 h-4"});case"offer":return e.jsx(k,{className:"w-4 h-4"});case"accepted":return e.jsx(X,{className:"w-4 h-4"});case"rejected":return e.jsx(M,{className:"w-4 h-4"});default:return e.jsx(o,{className:"w-4 h-4"})}},Z=r=>{switch(r){case"applied":return"bg-blue-100 text-blue-800 border-blue-200";case"screening":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"interview":return"bg-purple-100 text-purple-800 border-purple-200";case"offer":return"bg-green-100 text-green-800 border-green-200";case"accepted":return"bg-green-100 text-green-800 border-green-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},ee=r=>{switch(r){case"applied":return"bg-blue-500";case"screening":return"bg-yellow-500";case"interview":return"bg-purple-500";case"offer":return"bg-green-500";case"accepted":return"bg-green-500";case"rejected":return"bg-red-500";default:return"bg-gray-500"}},fe=()=>{const[r,a]=u.useState(!1),[s,g]=u.useState(null),[l,j]=u.useState([]);u.useEffect(()=>{c();const t=d=>{(d.key==="simhire_v1_candidate_applications"||d.key==="simhire_v1_candidate_saved_jobs")&&(c(),F.info("Data updated",{description:"Application status synchronized"}))};window.addEventListener("storage",t);const i=()=>{c()};return window.addEventListener("focus",i),()=>{window.removeEventListener("storage",t),window.removeEventListener("focus",i)}},[]);const c=()=>{const i=R().map(G);j(i)},n=t=>{g(t),a(!0)},h=[{label:"Total Lamaran",value:l.length,icon:p,color:"bg-blue-500",trend:l.length>0?`${l.length} total`:"No applications yet"},{label:"Under Review",value:l.filter(t=>t.status==="applied"||t.status==="screening").length,icon:o,color:"bg-yellow-500"},{label:"Interview",value:l.filter(t=>t.status==="interview").length,icon:x,color:"bg-purple-500"},{label:"Success",value:l.filter(t=>t.status==="accepted"||t.status==="offer").length,icon:k,color:"bg-green-500"}],I=(()=>{const t=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"];return Array.from({length:6},(d,f)=>{const m=new Date;return m.setMonth(m.getMonth()-(5-f)),{month:m.getMonth(),year:m.getFullYear()}}).map(({month:d,year:f})=>{const m=l.filter(L=>{const y=new Date(L.appliedDate);return y.getMonth()===d&&y.getFullYear()===f}).length;return{label:t[d],value:m,color:"bg-primary-500"}})})();return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("div",{className:"max-w-7xl mx-auto mobile-container mobile-section space-y-6 sm:space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-2",children:"Application Tracker"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Track your internship application progress"})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6",children:h.map((t,i)=>e.jsx(O,D(N({},t),{index:i}),t.label))}),e.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl p-4 sm:p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4",children:"Aktivitas Lamaran (6 Bulan Terakhir)"}),e.jsx(U,{data:I})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 sm:gap-4 mb-4",children:[e.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:[l.length," Lamaran Aktif"]}),e.jsx("span",{className:"px-2 sm:px-3 py-1 bg-primary-100 text-primary-600 text-xs font-medium rounded-full",children:"Tracked"})]}),l.map((t,i)=>e.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.05},className:"bg-white border border-gray-200 rounded-lg sm:rounded-xl p-4 sm:p-5 hover:shadow-xl hover:border-primary-300 transition-all group",children:[e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 mb-3 sm:mb-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-lg sm:text-xl font-bold flex-shrink-0 group-hover:scale-105 transition-transform shadow-md",children:t.company.name.charAt(0)}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex flex-col xs:flex-row items-start xs:justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0 w-full",children:[e.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900 group-hover:text-primary-600 transition-colors line-clamp-2 xs:line-clamp-1",children:t.position}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium line-clamp-1",children:t.company.name})]}),e.jsx(H,{className:`${Z(t.status)} border text-xs flex-shrink-0 self-start xs:self-center`,children:e.jsxs("span",{className:"flex items-center gap-1",children:[Q(t.status),e.jsx("span",{className:"hidden xs:inline",children:t.status.charAt(0).toUpperCase()+t.status.slice(1)}),e.jsx("span",{className:"xs:hidden",children:t.status.charAt(0).toUpperCase()+t.status.slice(1,3)})]})})]})})]}),e.jsxs("div",{className:"mb-3 sm:mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5 sm:mb-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Progress"}),e.jsxs("span",{className:"text-xs font-semibold text-gray-900",children:[t.progress,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 sm:h-2",children:e.jsx("div",{className:`h-1.5 sm:h-2 rounded-full transition-all duration-300 ${ee(t.status)}`,style:{width:`${t.progress}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-3 mb-3 sm:mb-4 py-2 sm:py-3 border-y border-gray-100",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-0.5 sm:mb-1",children:e.jsx(C,{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-600"})}),e.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Applied"}),e.jsx("p",{className:"text-xs font-semibold text-gray-900",children:new Date(t.appliedDate).toLocaleDateString("id-ID",{day:"numeric",month:"short"})})]}),e.jsxs("div",{className:"text-center border-x border-gray-100",children:[e.jsx("div",{className:"flex items-center justify-center mb-0.5 sm:mb-1",children:t.interviewDate?e.jsx(o,{className:"w-3 h-3 sm:w-4 sm:h-4 text-orange-600"}):e.jsx(x,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400"})}),e.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Interview"}),e.jsx("p",{className:"text-xs font-semibold text-gray-900 line-clamp-1",children:t.interviewDate?new Date(t.interviewDate).toLocaleDateString("id-ID",{day:"numeric",month:"short"}):"Pending"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-0.5 sm:mb-1",children:e.jsx(p,{className:"w-3 h-3 sm:w-4 sm:h-4 text-purple-600"})}),e.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Next Step"}),e.jsx("p",{className:"text-xs font-semibold text-gray-900 line-clamp-1",children:t.nextStep||"Wait for response"})]})]}),e.jsxs("div",{className:"flex flex-col xs:flex-row items-stretch xs:items-center gap-2",children:[t.status==="interview"&&e.jsx("button",{className:"tap-target px-3 sm:px-4 py-2 bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white rounded-lg text-xs sm:text-sm font-medium transition-all hover:shadow-lg flex-shrink-0",children:"Prepare Interview"}),e.jsx(b,{variant:"outline",size:"sm",className:"tap-target flex-1 text-xs sm:text-sm",onClick:()=>n(t),children:"View Details"})]})]},t.id))]}),l.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(S,{className:"w-12 h-12 mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No applications yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Start applying to internships to track your progress here."}),e.jsx(b,{className:"bg-primary hover:bg-primary/90",children:"Browse Internships"})]})]}),e.jsx(q,{isOpen:r,onClose:()=>{a(!1),g(null)},application:s})]})};export{fe as default};
