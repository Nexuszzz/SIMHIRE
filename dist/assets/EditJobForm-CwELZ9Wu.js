var A=Object.defineProperty,B=Object.defineProperties;var G=Object.getOwnPropertyDescriptors;var I=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var F=(i,l,t)=>l in i?A(i,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[l]=t,g=(i,l)=>{for(var t in l||(l={}))K.call(l,t)&&F(i,t,l[t]);if(I)for(var t of I(l))H.call(l,t)&&F(i,t,l[t]);return i},p=(i,l)=>B(i,G(l));var C=(i,l,t)=>new Promise((k,w)=>{var M=d=>{try{u(t.next(d))}catch(f){w(f)}},s=d=>{try{u(t.throw(d))}catch(f){w(f)}},u=d=>d.done?k(d.value):Promise.resolve(d.value).then(M,s);u((t=t.apply(i,l)).next())});import{u as z,p as O,r as v,j as e,Y as m,X as L,ap as X,K as N,ak as Y}from"./index-Cc6i9FY3.js";import{C as h,b as j,c as b,a as y}from"./card-CEzJgjTj.js";import{B as _}from"./badge-CUgocmjb.js";import{A as U}from"./arrow-left-BUBX_3m9.js";import{P as D}from"./plus-CuH57lO_.js";import{S as Q}from"./save-yc6KgJtc.js";const re=()=>{const i=z(),{id:l}=O(),[t,k]=v.useState(!1),[w,M]=v.useState(!0),[s,u]=v.useState({title:"",department:"",employmentType:"full-time",experienceLevel:"mid",locationMode:"hybrid",location:"",salaryMin:"",salaryMax:"",currency:"IDR",description:"",requirements:[""],benefits:[""],skills:[],isUrgent:!1,isFeatured:!1,status:"draft"}),[d,f]=v.useState("");v.useEffect(()=>{C(void 0,null,function*(){var r,c;if(l)try{const n=X(l);if(!n){N.error("Lowongan tidak ditemukan"),i("/company/jobs");return}u({title:n.title,department:n.department,employmentType:n.employmentType,experienceLevel:n.experienceLevel,locationMode:n.locationMode,location:n.location,salaryMin:((r=n.salaryMin)==null?void 0:r.toString())||"",salaryMax:((c=n.salaryMax)==null?void 0:c.toString())||"",currency:n.currency||"IDR",description:n.description,requirements:n.requirements.length>0?n.requirements:[""],benefits:n.benefits&&n.benefits.length>0?n.benefits:[""],skills:n.skills||[],isUrgent:n.isUrgent||!1,isFeatured:n.isFeatured||!1,status:n.status})}catch(n){console.error("Error loading job:",n),N.error("Gagal memuat data lowongan")}finally{M(!1)}})},[l,i]);const o=(a,r)=>{u(c=>p(g({},c),{[a]:r}))},S=(a,r,c)=>{u(n=>p(g({},n),{[a]:n[a].map((x,J)=>J===r?c:x)}))},T=a=>{u(r=>p(g({},r),{[a]:[...r[a],""]}))},q=(a,r)=>{u(c=>p(g({},c),{[a]:c[a].filter((n,x)=>x!==r)}))},P=()=>{d.trim()&&!s.skills.includes(d.trim())&&(u(a=>p(g({},a),{skills:[...a.skills,d.trim()]})),f(""))},E=a=>{u(r=>p(g({},r),{skills:r.skills.filter(c=>c!==a)}))},R=a=>C(void 0,null,function*(){if(a.preventDefault(),!!l){k(!0);try{if(!s.title.trim()||!s.department.trim()||!s.description.trim()){N.error("Harap lengkapi field yang wajib diisi");return}const r=s.requirements.filter(x=>x.trim()),c=s.benefits.filter(x=>x.trim()),n={title:s.title.trim(),department:s.department.trim(),employmentType:s.employmentType,experienceLevel:s.experienceLevel,locationMode:s.locationMode,location:s.location.trim()||"Remote",salaryMin:s.salaryMin?parseInt(s.salaryMin):void 0,salaryMax:s.salaryMax?parseInt(s.salaryMax):void 0,currency:s.currency,description:s.description.trim(),requirements:r,benefits:c,skills:s.skills,isUrgent:s.isUrgent,isFeatured:s.isFeatured,status:s.status};Y(l,n),N.success("Lowongan berhasil diperbarui!"),i("/company/jobs")}catch(r){console.error("Error updating job:",r),N.error("Gagal memperbarui lowongan")}finally{k(!1)}}});return w?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(m,{variant:"outline",onClick:()=>i("/company/jobs"),children:[e.jsx(U,{className:"w-4 h-4 mr-2"}),"Kembali"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Lowongan"}),e.jsx("p",{className:"text-gray-600",children:"Memuat data lowongan..."})]})]}),e.jsx("div",{className:"bg-white p-8 rounded-card border border-gray-200",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(m,{variant:"outline",onClick:()=>i("/company/jobs"),children:[e.jsx(U,{className:"w-4 h-4 mr-2"}),"Kembali"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Lowongan"}),e.jsx("p",{className:"text-gray-600",children:"Ubah informasi lowongan kerja"})]})]}),e.jsxs("form",{onSubmit:R,className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(h,{children:[e.jsx(j,{children:e.jsx(b,{children:"Informasi Dasar"})}),e.jsxs(y,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Judul Lowongan *"}),e.jsx("input",{type:"text",value:s.title,onChange:a=>o("title",a.target.value),placeholder:"contoh: Senior Frontend Developer",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-accent-blue",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Departemen *"}),e.jsx("input",{type:"text",value:s.department,onChange:a=>o("department",a.target.value),placeholder:"contoh: Engineering, Design, Marketing",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-accent-blue",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipe Pekerjaan"}),e.jsxs("select",{value:s.employmentType,onChange:a=>o("employmentType",a.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-accent-blue",children:[e.jsx("option",{value:"full-time",children:"Full Time"}),e.jsx("option",{value:"part-time",children:"Part Time"}),e.jsx("option",{value:"contract",children:"Kontrak"}),e.jsx("option",{value:"internship",children:"Magang"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Level Pengalaman"}),e.jsxs("select",{value:s.experienceLevel,onChange:a=>o("experienceLevel",a.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-accent-blue",children:[e.jsx("option",{value:"entry",children:"Entry Level"}),e.jsx("option",{value:"mid",children:"Mid Level"}),e.jsx("option",{value:"senior",children:"Senior Level"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mode Lokasi"}),e.jsxs("select",{value:s.locationMode,onChange:a=>o("locationMode",a.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-accent-blue",children:[e.jsx("option",{value:"remote",children:"Remote"}),e.jsx("option",{value:"hybrid",children:"Hybrid"}),e.jsx("option",{value:"on-site",children:"On-site"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lokasi"}),e.jsx("input",{type:"text",value:s.location,onChange:a=>o("location",a.target.value),placeholder:"contoh: Jakarta, Indonesia",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-accent-blue"})]})]})]})]}),e.jsxs(h,{children:[e.jsx(j,{children:e.jsx(b,{children:"Gaji"})}),e.jsx(y,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gaji Minimum"}),e.jsx("input",{type:"number",value:s.salaryMin,onChange:a=>o("salaryMin",a.target.value),placeholder:"15000000",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-accent-blue"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gaji Maksimum"}),e.jsx("input",{type:"number",value:s.salaryMax,onChange:a=>o("salaryMax",a.target.value),placeholder:"25000000",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-accent-blue"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mata Uang"}),e.jsxs("select",{value:s.currency,onChange:a=>o("currency",a.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-accent-blue",children:[e.jsx("option",{value:"IDR",children:"IDR (Rupiah)"}),e.jsx("option",{value:"USD",children:"USD (Dollar)"})]})]})]})})]}),e.jsxs(h,{children:[e.jsx(j,{children:e.jsx(b,{children:"Deskripsi Pekerjaan"})}),e.jsx(y,{children:e.jsx("textarea",{value:s.description,onChange:a=>o("description",a.target.value),placeholder:"Jelaskan tanggung jawab, tugas, dan ekspektasi untuk posisi ini...",rows:6,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-accent-blue",required:!0})})]}),e.jsxs(h,{children:[e.jsx(j,{children:e.jsx(b,{children:"Persyaratan"})}),e.jsxs(y,{className:"space-y-3",children:[s.requirements.map((a,r)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:a,onChange:c=>S("requirements",r,c.target.value),placeholder:"contoh: Minimal 3 tahun pengalaman...",className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-accent-blue"}),e.jsx(m,{type:"button",variant:"outline",size:"sm",onClick:()=>q("requirements",r),disabled:s.requirements.length<=1,children:e.jsx(L,{className:"w-4 h-4"})})]},r)),e.jsxs(m,{type:"button",variant:"outline",onClick:()=>T("requirements"),children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Tambah Persyaratan"]})]})]}),e.jsxs(h,{children:[e.jsx(j,{children:e.jsx(b,{children:"Benefit"})}),e.jsxs(y,{className:"space-y-3",children:[s.benefits.map((a,r)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:a,onChange:c=>S("benefits",r,c.target.value),placeholder:"contoh: Asuransi kesehatan...",className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-accent-blue"}),e.jsx(m,{type:"button",variant:"outline",size:"sm",onClick:()=>q("benefits",r),disabled:s.benefits.length<=1,children:e.jsx(L,{className:"w-4 h-4"})})]},r)),e.jsxs(m,{type:"button",variant:"outline",onClick:()=>T("benefits"),children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Tambah Benefit"]})]})]}),e.jsxs(h,{children:[e.jsx(j,{children:e.jsx(b,{children:"Skills yang Dibutuhkan"})}),e.jsxs(y,{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:d,onChange:a=>f(a.target.value),placeholder:"contoh: React, TypeScript...",className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-accent-blue",onKeyPress:a=>a.key==="Enter"&&(a.preventDefault(),P())}),e.jsx(m,{type:"button",onClick:P,children:e.jsx(D,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.skills.map((a,r)=>e.jsxs(_,{variant:"secondary",className:"flex items-center gap-1",children:[a,e.jsx("button",{type:"button",onClick:()=>E(a),className:"hover:text-red-600",children:e.jsx(L,{className:"w-3 h-3"})})]},r))})]})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs(h,{children:[e.jsx(j,{children:e.jsx(b,{children:"Pengaturan"})}),e.jsxs(y,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status Lowongan"}),e.jsxs("select",{value:s.status,onChange:a=>o("status",a.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-accent-blue",children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"open",children:"Terbuka"}),e.jsx("option",{value:"paused",children:"Dijeda"}),e.jsx("option",{value:"closed",children:"Ditutup"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:s.isUrgent,onChange:a=>o("isUrgent",a.target.checked)}),e.jsx("span",{className:"text-sm",children:"Lowongan Urgent"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:s.isFeatured,onChange:a=>o("isFeatured",a.target.checked)}),e.jsx("span",{className:"text-sm",children:"Featured (Prioritas Tinggi)"})]})]}),e.jsxs(m,{type:"submit",className:"w-full",disabled:t,children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),t?"Menyimpan...":"Simpan Perubahan"]})]})]})})]})]})};export{re as default};
