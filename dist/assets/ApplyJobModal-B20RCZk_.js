var W=Object.defineProperty,Z=Object.defineProperties;var Q=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var A=(i,n,a)=>n in i?W(i,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[n]=a,x=(i,n)=>{for(var a in n||(n={}))I.call(n,a)&&A(i,a,n[a]);if(b)for(var a of b(n))F.call(n,a)&&A(i,a,n[a]);return i},y=(i,n)=>Z(i,Q(n));var M=(i,n)=>{var a={};for(var m in i)I.call(i,m)&&n.indexOf(m)<0&&(a[m]=i[m]);if(i!=null&&b)for(var m of b(i))n.indexOf(m)<0&&F.call(i,m)&&(a[m]=i[m]);return a};import{c as D,r as d,j as e,R as ee,W as ae,u as se,Y as te,H as L,B as ie,d as ne,q as le,V as c,F as R,Z as re}from"./index-DYs6XXPw.js";import{D as me,a as oe,b as E,c as _,d as K}from"./dialog-CcZc_5bz.js";import{I as N}from"./input-ChrrNOs2.js";import{T as de}from"./textarea-YCK3PTsC.js";import{P as ce}from"./index-5dkGcvY2.js";import{C as B}from"./checkbox-C-Njizmx.js";import{D as pe}from"./dollar-sign-DahpdX0h.js";import{U as he}from"./upload-CKg7X4Kf.js";import{C as G}from"./check-circle-2-DAkttzHV.js";import{A as xe}from"./alert-circle-C3c5tUkW.js";import{F as ue}from"./folder-open-ByOwmO3G.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=D("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);var ge="Label",U=d.forwardRef((i,n)=>e.jsx(ce.label,y(x({},i),{ref:n,onMouseDown:a=>{var p;a.target.closest("button, input, select, textarea")||((p=i.onMouseDown)==null||p.call(i,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}})));U.displayName=ge;var H=U;const fe=ae("text-sm font-medium leading-none text-gray-700 peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),h=d.forwardRef((m,a)=>{var p=m,{className:i}=p,n=M(p,["className"]);return e.jsx(H,x({ref:a,className:ee(fe(),i)},n))});h.displayName=H.displayName;const Ae=({isOpen:i,onClose:n,jobData:a,onApplicationSubmitted:m})=>{const p=se(),[u,j]=d.useState(1),[w,O]=d.useState([]),[g,T]=d.useState([]),[$,P]=d.useState(!1),[t,k]=d.useState({fullName:"",email:"",phone:"",cv:null,coverLetter:"",portfolio:"",agreeTerms:!1}),[C,S]=d.useState(!1);d.useEffect(()=>{if(i){const s=te();O(s)}},[i]),d.useEffect(()=>{if(i&&a.id){const s=localStorage.getItem(`cover_letter_draft_${a.id}`);s&&k(l=>y(x({},l),{coverLetter:s}))}},[i,a.id]),d.useEffect(()=>{if(t.coverLetter&&a.id&&u===2){const s=setTimeout(()=>{localStorage.setItem(`cover_letter_draft_${a.id}`,t.coverLetter),L.success("Draft tersimpan otomatis",{duration:1e3})},3e3);return()=>clearTimeout(s)}},[t.coverLetter,a.id,u]);const f=(s,l)=>{k(r=>y(x({},r),{[s]:l}))},V=s=>{s.target.files&&s.target.files[0]&&k(l=>y(x({},l),{cv:s.target.files[0]}))},Y=()=>{P(!0);const s=JSON.parse(localStorage.getItem("simhire_simulasi_results")||"[]"),l={};s.forEach(o=>{o.score&&(l[o.categoryId||o.title]=o.score)});const r=w.filter(o=>g.includes(o.id)).map(o=>({id:o.id,title:o.title,description:o.description,technologies:o.tech,thumbnail:o.coverImage})),X={id:crypto.randomUUID(),jobId:a.id||crypto.randomUUID(),jobTitle:a.title,company:a.company,companyLogo:a.companyLogo,location:a.location||"Remote",salary:a.salary,appliedAt:new Date().toISOString(),status:"applied",notes:t.coverLetter,simulasiScores:Object.keys(l).length>0?l:void 0,portfolio:r.length>0?r:void 0,timeline:[{date:new Date().toISOString(),status:"applied",description:"Application submitted successfully"}]},q=re(X);setTimeout(()=>{P(!1),q?(j(3),L.success("Lamaran berhasil dikirim!",{description:`Lamaran Anda untuk posisi ${a.title} di ${a.company} telah dikirim`,icon:"ðŸŽ‰",action:{label:"Lihat Status",onClick:()=>{v(),p("/dashboard/application-tracker")}}}),m&&m()):L.error("Gagal mengirim lamaran",{description:"Terjadi kesalahan saat menyimpan data"})},1500)},v=()=>{u===3&&a.id&&localStorage.removeItem(`cover_letter_draft_${a.id}`),j(1),k({fullName:"",email:"",phone:"",cv:null,coverLetter:"",portfolio:"",agreeTerms:!1}),S(!1),n()},z=s=>{const l={default:`Kepada Yth. Tim Rekrutmen ${a.company},

Saya sangat tertarik untuk melamar posisi ${s} di ${a.company}. Dengan latar belakang pengalaman saya di bidang terkait, saya yakin dapat memberikan kontribusi positif bagi tim Anda.

Saya memiliki pengalaman dalam [sebutkan pengalaman relevan] dan menguasai [sebutkan skills]. Saya sangat antusias untuk dapat bergabung dengan tim ${a.company} dan berkontribusi mencapai tujuan perusahaan.

Terima kasih atas waktu dan pertimbangan Anda. Saya berharap dapat berdiskusi lebih lanjut mengenai bagaimana saya dapat berkontribusi di ${a.company}.

Hormat saya,
${t.fullName||"[Nama Anda]"}`,developer:`Kepada Yth. Tim Rekrutmen ${a.company},

Saya menulis surat ini untuk melamar posisi ${s}. Sebagai developer dengan pengalaman [X] tahun, saya telah mengerjakan berbagai proyek yang melibatkan teknologi modern dan best practices.

Keahlian teknis saya meliputi:
â€¢ Pengembangan aplikasi menggunakan [teknologi]
â€¢ Problem solving dan debugging yang efisien
â€¢ Kolaborasi dalam tim agile/scrum

Saya tertarik dengan ${a.company} karena reputasinya dalam inovasi teknologi. Portfolio saya dapat dilihat di ${t.portfolio||"[Link Portfolio]"}.

Saya berharap dapat mendiskusikan bagaimana skills saya dapat membantu mencapai goals tim Anda.

Best regards,
${t.fullName||"[Nama Anda]"}`,designer:`Dear Hiring Team at ${a.company},

I am excited to apply for the ${s} position. As a designer passionate about creating meaningful user experiences, I believe I would be a great fit for your team.

My design philosophy centers around:
â€¢ User-centered design thinking
â€¢ Clean, functional aesthetics
â€¢ Collaboration with developers and stakeholders

I admire ${a.company}'s commitment to excellent design and would love to contribute to your creative projects.

Thank you for considering my application. I look forward to discussing how my design skills can add value to your team.

Warm regards,
${t.fullName||"[Your Name]"}`,marketing:`Kepada Tim HR ${a.company},

Saya dengan antusias melamar posisi ${s}. Dengan pengalaman di digital marketing dan content strategy, saya siap membantu ${a.company} mencapai target growth.

Pencapaian saya meliputi:
â€¢ Meningkatkan engagement [X]% melalui kampanye kreatif
â€¢ Mengelola budget advertising dengan ROI optimal
â€¢ Menganalisis data untuk strategi berbasis insight

Saya terkesan dengan strategi marketing ${a.company} dan ingin berkontribusi dengan ide-ide fresh dan data-driven approach.

Terima kasih atas kesempatan ini.

Salam,
${t.fullName||"[Nama Anda]"}`},r=s.toLowerCase();return r.includes("developer")||r.includes("programmer")||r.includes("engineer")?l.developer:r.includes("design")||r.includes("ui")||r.includes("ux")?l.designer:r.includes("marketing")||r.includes("social media")?l.marketing:l.default},J=()=>{const s=z(a.title);k(l=>y(x({},l),{coverLetter:s})),S(!1),L.success("Template diterapkan! Silakan personalisasi sesuai kebutuhan.")};return e.jsx(me,{open:i,onOpenChange:v,children:e.jsxs(oe,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[u===1&&e.jsxs(e.Fragment,{children:[e.jsxs(E,{children:[e.jsx(_,{className:"text-2xl font-bold",children:"Lamar Pekerjaan"}),e.jsx(K,{children:"Pastikan data Anda lengkap untuk meningkatkan peluang diterima"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-primary-50 to-primary-100 rounded-xl p-4 border border-primary-200 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"w-5 h-5 text-primary-600"}),e.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:a.title})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ne,{className:"w-4 h-4"}),e.jsx("span",{children:a.company})]}),a.location&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(le,{className:"w-4 h-4"}),e.jsx("span",{children:a.location})]}),a.salary&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(pe,{className:"w-4 h-4"}),e.jsx("span",{children:a.salary})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(h,{htmlFor:"fullName",children:"Nama Lengkap *"}),e.jsx(N,{id:"fullName",placeholder:"Masukkan nama lengkap Anda",value:t.fullName,onChange:s=>f("fullName",s.target.value),className:"mt-1"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{htmlFor:"email",children:"Email *"}),e.jsx(N,{id:"email",type:"email",placeholder:"email@example.com",value:t.email,onChange:s=>f("email",s.target.value),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"phone",children:"No. Telepon *"}),e.jsx(N,{id:"phone",type:"tel",placeholder:"08xxxxxxxxxx",value:t.phone,onChange:s=>f("phone",s.target.value),className:"mt-1"})]})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"cv",children:"Upload CV/Resume *"}),e.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[e.jsx(N,{id:"cv",type:"file",accept:".pdf,.doc,.docx",onChange:V,className:"hidden"}),e.jsxs(c,{type:"button",variant:"outline",onClick:()=>{var s;return(s=document.getElementById("cv"))==null?void 0:s.click()},className:"flex-1",children:[e.jsx(he,{className:"w-4 h-4 mr-2"}),t.cv?t.cv.name:"Pilih File"]}),t.cv&&e.jsx(G,{className:"w-5 h-5 text-green-600"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: PDF, DOC, DOCX (Max 5MB)"})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"portfolio",children:"Portfolio/LinkedIn (Opsional)"}),e.jsx(N,{id:"portfolio",placeholder:"https://...",value:t.portfolio,onChange:s=>f("portfolio",s.target.value),className:"mt-1"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4",children:[e.jsx(c,{variant:"outline",onClick:v,children:"Batal"}),e.jsx(c,{onClick:()=>j(2),disabled:!t.fullName||!t.email||!t.phone||!t.cv,children:"Lanjutkan"})]})]}),u===2&&e.jsxs(e.Fragment,{children:[e.jsxs(E,{children:[e.jsx(_,{className:"text-2xl font-bold",children:"Tambahkan Cover Letter"}),e.jsx(K,{children:"Ceritakan mengapa Anda cocok untuk posisi ini"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(c,{type:"button",variant:"outline",size:"sm",onClick:()=>S(!C),className:"text-xs",children:[e.jsx(R,{className:"w-3 h-3 mr-1"}),C?"Tutup Template":"Gunakan Template"]}),t.coverLetter&&e.jsx("span",{className:"text-xs text-gray-500",children:"Draft tersimpan otomatis"})]}),C&&e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm",children:"âœ¨ Template Cover Letter"}),e.jsxs("p",{className:"text-xs text-gray-600 mb-3",children:["Kami telah menyiapkan template yang disesuaikan dengan posisi ",e.jsx("span",{className:"font-semibold",children:a.title})]}),e.jsx(c,{type:"button",onClick:J,size:"sm",className:"w-full",children:"Gunakan Template Ini"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx(h,{htmlFor:"coverLetter",children:"Cover Letter *"}),e.jsxs("span",{className:`text-xs ${t.coverLetter.length<100?"text-red-600":t.coverLetter.length<200?"text-yellow-600":"text-green-600"}`,children:[t.coverLetter.length," / 500 karakter",t.coverLetter.length<100&&" (minimal 100)"]})]}),e.jsx(de,{id:"coverLetter",placeholder:`Contoh:

Kepada Yth. Tim Rekrutmen [Perusahaan],

Saya sangat tertarik untuk melamar posisi ini karena...

Pengalaman saya meliputi:
â€¢ [Pengalaman 1]
â€¢ [Pengalaman 2]

Saya yakin dapat berkontribusi...

Hormat saya,
[Nama Anda]`,value:t.coverLetter,onChange:s=>f("coverLetter",s.target.value.slice(0,500)),rows:12,className:"mt-1 resize-none font-mono text-sm"}),e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:e.jsx("div",{className:`h-1.5 rounded-full transition-all ${t.coverLetter.length<100?"bg-red-500":t.coverLetter.length<200?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(t.coverLetter.length/500*100,100)}%`}})})})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(xe,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-1 text-sm",children:"ðŸ’¡ Tips Cover Letter yang Menarik"}),e.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[e.jsx("li",{children:"âœ… Jelaskan MENGAPA Anda tertarik dengan posisi & perusahaan ini"}),e.jsx("li",{children:"âœ… Sebutkan 2-3 keahlian/pengalaman yang RELEVAN dengan job description"}),e.jsx("li",{children:"âœ… Tunjukkan antusiasme dan motivasi Anda dengan contoh konkret"}),e.jsx("li",{children:"âœ… Gunakan bahasa profesional tapi tetap personal"}),e.jsx("li",{children:"âŒ Hindari copy-paste dari CV atau template generik"})]})]})]})}),w.length>0&&e.jsxs("div",{children:[e.jsxs(h,{className:"mb-3 flex items-center gap-2",children:[e.jsx(ue,{className:"w-4 h-4"}),"Lampirkan Portfolio (Opsional)"]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Pilih proyek portfolio yang relevan untuk memperkuat lamaran Anda"}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:w.map(s=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded-lg border border-gray-200 hover:border-purple-300 transition-colors",children:[e.jsx(B,{id:`project-${s.id}`,checked:g.includes(s.id),onCheckedChange:l=>{T(l?[...g,s.id]:g.filter(r=>r!==s.id))}}),e.jsx("label",{htmlFor:`project-${s.id}`,className:"flex-1 cursor-pointer",children:e.jsxs("div",{className:"flex items-start gap-3",children:[s.coverImage&&e.jsx("img",{src:s.coverImage,alt:s.title,className:"w-12 h-12 rounded object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-sm text-gray-900",children:s.title}),e.jsx("p",{className:"text-xs text-gray-500 line-clamp-1",children:s.description}),e.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[s.tech.slice(0,3).map((l,r)=>e.jsx("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 rounded text-xs",children:l},r)),s.tech.length>3&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",s.tech.length-3]})]})]})]})})]},s.id))}),g.length>0&&e.jsxs("p",{className:"text-xs text-purple-700 mt-3 font-medium",children:["âœ¨ ",g.length," proyek terpilih"]})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(B,{id:"terms",checked:t.agreeTerms,onCheckedChange:s=>f("agreeTerms",s)}),e.jsx("label",{htmlFor:"terms",className:"text-sm text-gray-600 cursor-pointer",children:"Saya menyetujui bahwa data yang saya berikan adalah benar dan dapat digunakan oleh perusahaan untuk proses rekrutmen"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4",children:[e.jsx(c,{variant:"outline",onClick:()=>j(1),children:"Kembali"}),e.jsxs(c,{onClick:Y,disabled:t.coverLetter.length<100||!t.agreeTerms||$,className:"bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800",children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),$?"Mengirim...":`Kirim Lamaran ${t.coverLetter.length>=100?"âœ“":""}`]})]})]}),u===3&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full mb-4",children:e.jsx(G,{className:"w-12 h-12 text-green-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Lamaran Terkirim!"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Lamaran Anda untuk posisi ",e.jsx("span",{className:"font-semibold",children:a.title})," di ",e.jsx("span",{className:"font-semibold",children:a.company})," telah berhasil dikirim."]}),e.jsxs("div",{className:"bg-gradient-to-r from-primary-50 to-primary-100 rounded-xl p-4 mb-6 text-left",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Langkah Selanjutnya:"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary-600",children:"1."}),e.jsx("span",{children:"Perusahaan akan meninjau lamaran Anda dalam 3-5 hari kerja"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary-600",children:"2."}),e.jsx("span",{children:"Anda akan menerima notifikasi melalui email"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary-600",children:"3."}),e.jsx("span",{children:"Pantau status lamaran di halaman Application Tracker"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(c,{onClick:v,variant:"outline",className:"flex-1",children:"Kembali ke Pencarian"}),e.jsx(c,{onClick:()=>{v(),p("/dashboard/application-tracker")},className:"flex-1",children:"Lihat Status Lamaran"})]})]})})]})})};export{Ae as A,Pe as G};
