import{r as n,aj as z,j as e,m as N,B as b,L as g,F as H,s as v,V as x,q as I,ak as U,H as c,al as u,am as Q,an as V}from"./index-DOAyMAht.js";import{C as f,a as y}from"./card-BBJ26QwF.js";import{B as d}from"./badge-Dz4g0MWb.js";import{G as h}from"./gradient-card-lFfK560c.js";import{T as q}from"./target-Dtb4GaEp.js";import{P as k}from"./plus-B2p8fqyF.js";import{C as K}from"./check-circle-BLnhmkif.js";import{S as O}from"./search-ULFnLfZy.js";import{F as W}from"./filter-DW_8TQ1Z.js";import{A as X}from"./alert-circle-D1tp5Cnd.js";import{D as Y}from"./dollar-sign-15XidCJh.js";import{C as Z}from"./calendar-BI2P_JBR.js";import{E as _}from"./eye-DotMm2Y_.js";import{M as ee}from"./more-vertical-xpqhGGjW.js";import{P as se}from"./pen-sjmaYDBT.js";import{C as ae}from"./copy-BC9eryqL.js";import{T as te}from"./trash-2-B3HpjjsZ.js";const Ne=()=>{const[i,C]=n.useState([]),[r,S]=n.useState(""),[t,D]=n.useState([]),[p,L]=n.useState(!1);n.useEffect(()=>{m()},[]),n.useEffect(()=>{m()},[r,t]);const m=n.useCallback(()=>{const s=z(t.length>0?t:void 0,r);C(s)},[r,t]),$=(s,a)=>{const l=a==="open"?"paused":"open";try{U(s,{status:l}),m(),c.success(`Lowongan ${l==="open"?"diaktifkan":"dijeda"}`)}catch(o){u(o,"handleStatusToggle"),c.error("Gagal mengubah status lowongan")}},T=s=>{try{Q(s),m(),c.success("Lowongan berhasil diduplikasi")}catch(a){u(a,"handleDuplicate"),c.error("Gagal menduplikasi lowongan")}},F=(s,a)=>{if(confirm(`Hapus lowongan "${a}"? Tindakan ini tidak dapat dibatalkan.`))try{V(s),m(),c.success("Lowongan berhasil dihapus")}catch(l){u(l,"handleDelete"),c.error("Gagal menghapus lowongan")}},J=s=>{D(a=>a.includes(s)?a.filter(l=>l!==s):[...a,s])},B=s=>({open:"bg-green-100 text-green-800",draft:"bg-gray-100 text-gray-800",paused:"bg-yellow-100 text-yellow-800",closed:"bg-red-100 text-red-800"})[s],w=s=>({open:"Aktif",draft:"Draft",paused:"Dijeda",closed:"Tutup"})[s],P=(s,a,l="IDR")=>{if(!s&&!a)return"Gaji tidak disebutkan";if(l==="IDR"){const o=G=>`${(G/1e6).toFixed(0)}jt`;if(s&&a)return`Rp ${o(s)} - ${o(a)}`;if(s)return`Rp ${o(s)}+`;if(a)return`Rp hingga ${o(a)}`}return`${l} ${s||0} - ${a||0}`},A=s=>new Date(s).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),j=i.length,E=i.filter(s=>s.status==="open").length,M=i.filter(s=>s.status==="draft").length,R=i.reduce((s,a)=>s+(a.applicationCount||0),0);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-primary-50/20 to-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto mobile-container mobile-section space-y-6 sm:space-y-8",children:[e.jsxs(N.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2",children:[e.jsx("div",{className:"p-2 sm:p-3 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-lg sm:rounded-xl shadow-lg",children:e.jsx(b,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900",children:"Manajemen Lowongan"})]}),e.jsxs("p",{className:"text-sm sm:text-base lg:text-lg text-gray-600 flex items-center gap-2",children:[e.jsx(q,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Kelola lowongan kerja perusahaan Anda"]})]}),e.jsx(g,{to:"/company/jobs/new",className:"w-full sm:w-auto",children:e.jsxs(N.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"tap-target w-full sm:w-auto inline-flex items-center justify-center gap-2 px-4 sm:px-5 py-2.5 sm:py-3 rounded-lg sm:rounded-xl bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white text-sm sm:text-base font-medium shadow-xl hover:shadow-2xl transition-all",children:[e.jsx(k,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Buat Lowongan Baru"]})})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6",children:[e.jsx(h,{title:"Total Lowongan",value:j.toString(),subtitle:`${j} lowongan`,icon:b,gradient:"from-blue-500 to-cyan-500",delay:0}),e.jsx(h,{title:"Lowongan Aktif",value:E.toString(),subtitle:"Sedang dibuka",icon:K,gradient:"from-green-500 to-emerald-500",delay:.1}),e.jsx(h,{title:"Draft",value:M.toString(),subtitle:"Belum dipublikasi",icon:H,gradient:"from-orange-500 to-red-500",delay:.2}),e.jsx(h,{title:"Total Pelamar",value:R.toString(),subtitle:"Semua lowongan",icon:v,gradient:"from-purple-500 to-pink-500",delay:.3})]}),e.jsx(f,{children:e.jsxs(y,{className:"p-3 sm:p-4",children:[e.jsxs("div",{className:"flex flex-col gap-3 sm:gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(O,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Cari lowongan...",value:r,onChange:s=>S(s.target.value),className:"w-full pl-9 pr-4 py-2 sm:py-2.5 border border-gray-200 rounded-lg text-sm sm:text-base focus:ring-2 focus:ring-accent-blue focus:border-transparent"})]}),e.jsxs(x,{variant:"outline",onClick:()=>L(!p),className:`tap-target w-full sm:w-auto ${p?"bg-blue-50":""}`,children:[e.jsx(W,{className:"w-4 h-4 mr-2"}),"Filter",t.length>0&&e.jsx(d,{variant:"secondary",className:"ml-2 bg-blue-100 text-blue-700",children:t.length})]})]}),p&&e.jsx("div",{className:"mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-900",children:"Status Lowongan"}),e.jsx("div",{className:"grid grid-cols-2 sm:flex sm:flex-wrap gap-2",children:["open","draft","paused","closed"].map(s=>e.jsx(x,{variant:t.includes(s)?"default":"outline",size:"sm",onClick:()=>J(s),className:"tap-target text-xs sm:text-sm",children:w(s)},s))})]})})]})}),e.jsx("div",{className:"space-y-4",children:i.length===0?e.jsx(f,{children:e.jsxs(y,{className:"p-12 text-center",children:[e.jsx("div",{className:"text-4xl mb-4",children:"ï¿½"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:r||t.length>0?"Tidak ada hasil yang cocok":"Belum ada lowongan"}),e.jsx("p",{className:"text-gray-600 mb-6",children:r||t.length>0?"Coba ubah filter atau kata kunci pencarian":"Mulai dengan membuat lowongan kerja pertama Anda"}),!r&&t.length===0&&e.jsx(g,{to:"/company/jobs/new",children:e.jsxs(x,{children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"Buat Lowongan Pertama"]})})]})}):i.map(s=>e.jsx(f,{className:"hover:shadow-md transition-shadow",children:e.jsx(y,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex-1",children:[s.title,s.isUrgent&&e.jsxs(d,{variant:"destructive",className:"ml-2 text-xs",children:[e.jsx(X,{className:"w-3 h-3 mr-1"}),"Urgent"]}),s.isFeatured&&e.jsx(d,{variant:"secondary",className:"ml-2 text-xs bg-yellow-100 text-yellow-800",children:"Featured"})]}),e.jsx(d,{className:`${B(s.status)}`,children:w(s.status)})]}),e.jsx("p",{className:"text-gray-600 mb-3",children:s.department}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.location," (",s.locationMode,")"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"w-4 h-4"}),e.jsx("span",{children:P(s.salaryMin,s.salaryMax,s.currency)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.applicationCount," pelamar"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"w-4 h-4"}),e.jsx("span",{children:A(s.createdAt)})]})]}),s.skills.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 mt-3",children:[s.skills.slice(0,5).map(a=>e.jsx(d,{variant:"secondary",className:"text-xs",children:a},a)),s.skills.length>5&&e.jsxs(d,{variant:"secondary",className:"text-xs text-gray-500",children:["+",s.skills.length-5," lainnya"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx(x,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(g,{to:`/company/jobs/${s.id}/applicants`,children:[e.jsx(_,{className:"w-4 h-4 mr-1"}),"Lihat"]})}),e.jsxs("div",{className:"relative group",children:[e.jsx(x,{variant:"outline",size:"sm",children:e.jsx(ee,{className:"w-4 h-4"})}),e.jsx("div",{className:"absolute right-0 top-8 w-48 bg-white border border-gray-200 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-10",children:e.jsxs("div",{className:"py-1",children:[e.jsx("button",{onClick:()=>$(s.id,s.status),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:s.status==="open"?"Jeda Lowongan":"Aktifkan Lowongan"}),e.jsxs(g,{to:`/company/jobs/${s.id}/edit`,className:"flex items-center w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:[e.jsx(se,{className:"w-4 h-4 mr-2"}),"Edit Lowongan"]}),e.jsxs("button",{onClick:()=>T(s.id),className:"flex items-center w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:[e.jsx(ae,{className:"w-4 h-4 mr-2"}),"Duplikasi"]}),e.jsx("div",{className:"border-t border-gray-100 my-1"}),e.jsxs("button",{onClick:()=>F(s.id,s.title),className:"flex items-center w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[e.jsx(te,{className:"w-4 h-4 mr-2"}),"Hapus"]})]})})]})]})]})})},s.id))})]})})};export{Ne as default};
