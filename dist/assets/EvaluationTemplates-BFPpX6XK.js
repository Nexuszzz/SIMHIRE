var Y=Object.defineProperty,Q=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable;var B=(t,l,c)=>l in t?Y(t,l,{enumerable:!0,configurable:!0,writable:!0,value:c}):t[l]=c,o=(t,l)=>{for(var c in l||(l={}))Z.call(l,c)&&B(t,c,l[c]);if(E)for(var c of E(l))ee.call(l,c)&&B(t,c,l[c]);return t},d=(t,l)=>Q(t,U(l));import{c as ae,r as h,ax as se,j as e,m as u,F as P,E as z,V as n,A,ac as I,X as K,ay as G,H as x,al as H}from"./index-BxwNAFHP.js";import{C as M,b as te,c as ie,a as $}from"./card-BsFzDIui.js";import{B as N}from"./badge-BE3t5zmO.js";import{G as y}from"./gradient-card-CfGVvkmL.js";import{T as re}from"./target-CRBkMvOu.js";import{P as k}from"./plus-BvU3bDvG.js";import{P as T}from"./pen-D5WijNnN.js";import{C as F}from"./check-circle-CmufPfgo.js";import{C as le}from"./copy-CvUbNI7X.js";import{T as L}from"./trash-2-BGGAoNDy.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=ae("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),be=()=>{const[t,l]=h.useState([]),[c,g]=h.useState(!1),[_,j]=h.useState(!1),[b,C]=h.useState(null),[w,D]=h.useState(null),[i,p]=h.useState({name:"",description:"",criteria:[]});h.useEffect(()=>{l(se())},[]);const S=()=>{const a={name:"Template Baru",description:"Deskripsi template evaluasi",criteria:[{id:"tech-1",label:"Technical Skills",description:"Kemampuan teknis sesuai posisi",weight:40,maxScore:10},{id:"comm-1",label:"Communication",description:"Kemampuan komunikasi dan presentasi",weight:30,maxScore:10},{id:"prob-1",label:"Problem Solving",description:"Kemampuan analisis dan pemecahan masalah",weight:30,maxScore:10}],isDefault:!1};try{const s=G(a);l([...t,s]),x.success("Template berhasil dibuat")}catch(s){console.error("Error creating template:",s),x.error("Gagal membuat template")}},R=a=>{const s={name:`${a.name} (Copy)`,description:a.description,criteria:a.criteria.map(r=>d(o({},r),{id:`${r.id}-copy-${Date.now()}`})),isDefault:!1};try{const r=G(s);l([...t,r]),x.success("Template berhasil diduplikasi")}catch(r){console.error("Error duplicating template:",r),x.error("Gagal menduplikasi template")}},V=a=>{C(a),g(!0)},q=a=>{D(a),p({name:a.name,description:a.description,criteria:[...a.criteria]}),j(!0)},J=()=>{if(w)try{const a=t.map(s=>s.id===w.id?d(o({},s),{name:i.name,description:i.description,criteria:i.criteria}):s);l(a),localStorage.setItem("simhire_evaluation_templates",JSON.stringify(a)),x.success("Template berhasil diperbarui"),j(!1),D(null)}catch(a){H(a,"handleSaveEdit"),x.error("Gagal memperbarui template")}},v=(a,s,r)=>{const f=[...i.criteria];f[a]=d(o({},f[a]),{[s]:r}),p(d(o({},i),{criteria:f}))},O=()=>{const a={id:`criterion-${Date.now()}`,label:"Kriteria Baru",description:"Deskripsi kriteria",weight:10,maxScore:10};p(d(o({},i),{criteria:[...i.criteria,a]}))},W=a=>{const s=i.criteria.filter((r,f)=>f!==a);p(d(o({},i),{criteria:s}))},X=()=>{if(b)try{l(t.filter(a=>a.id!==b.id)),x.success("Template berhasil dihapus"),g(!1),C(null)}catch(a){H(a,"handleConfirmDelete"),x.error("Gagal menghapus template")}},m=a=>a.reduce((s,r)=>s+r.weight,0);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-primary-50/20 to-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8 space-y-8",children:[e.jsxs(u.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl shadow-lg",children:e.jsx(P,{className:"w-6 h-6 text-white"})}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:"Template Evaluasi"})]}),e.jsxs("p",{className:"text-gray-600 text-lg flex items-center gap-2",children:[e.jsx(re,{className:"w-5 h-5"}),"Kelola template evaluasi untuk proses interview"]})]}),e.jsxs(u.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:S,className:"inline-flex items-center gap-2 px-5 py-3 rounded-xl bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white font-medium shadow-xl hover:shadow-2xl transition-all",children:[e.jsx(k,{className:"w-5 h-5"}),"Buat Template Baru"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(y,{title:"Total Template",value:t.length.toString(),subtitle:"Template aktif",icon:P,gradient:"from-blue-500 to-cyan-500",delay:0}),e.jsx(y,{title:"Template Default",value:t.filter(a=>a.isDefault).length.toString(),subtitle:"Template standar",icon:z,gradient:"from-yellow-500 to-orange-500",delay:.1}),e.jsx(y,{title:"Template Custom",value:t.filter(a=>!a.isDefault).length.toString(),subtitle:"Dibuat sendiri",icon:T,gradient:"from-green-500 to-emerald-500",delay:.2}),e.jsx(y,{title:"Valid",value:t.filter(a=>m(a.criteria)===100).length.toString(),subtitle:"Bobot 100%",icon:F,gradient:"from-purple-500 to-pink-500",delay:.3})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.map(a=>e.jsxs(M,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(te,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"text-lg",children:a.name}),a.isDefault&&e.jsxs(N,{variant:"default",children:[e.jsx(z,{className:"w-3 h-3 mr-1"}),"Default"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a.description})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(n,{variant:"ghost",size:"sm",onClick:()=>q(a),children:e.jsx(T,{className:"w-4 h-4"})}),e.jsx(n,{variant:"ghost",size:"sm",onClick:()=>R(a),children:e.jsx(le,{className:"w-4 h-4"})}),!a.isDefault&&e.jsx(n,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>V(a),children:e.jsx(L,{className:"w-4 h-4"})})]})]})}),e.jsx($,{children:e.jsxs("div",{className:"space-y-3",children:[a.criteria.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-sm",children:s.label}),e.jsx("p",{className:"text-xs text-gray-500",children:s.description})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxs(N,{variant:"outline",children:[e.jsx(ce,{className:"w-3 h-3 mr-1"}),s.weight,"%"]}),e.jsxs(N,{variant:"outline",children:["Max: ",s.maxScore]})]})]},s.id)),e.jsxs("div",{className:"pt-3 border-t",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Total Bobot:"}),e.jsxs(N,{variant:m(a.criteria)===100?"default":"destructive",children:[m(a.criteria),"%"]})]}),m(a.criteria)!==100&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:"âš ï¸ Total bobot harus 100%"})]}),e.jsx("div",{className:"pt-3 border-t",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-500",children:[e.jsx("div",{children:e.jsxs("p",{children:["Dibuat: ",new Date(a.createdAt).toLocaleDateString("id-ID")]})}),e.jsx("div",{children:e.jsxs("p",{children:["Diperbarui: ",new Date(a.updatedAt).toLocaleDateString("id-ID")]})})]})})]})})]},a.id)),t.length===0&&e.jsx("div",{className:"lg:col-span-2",children:e.jsx(M,{children:e.jsx($,{className:"p-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-4",children:"ðŸ“Š"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Belum Ada Template"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Buat template evaluasi pertama Anda untuk standardisasi proses interview"}),e.jsxs(n,{onClick:S,children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"Buat Template Pertama"]})]})})})})]}),e.jsx(A,{children:c&&b&&e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>g(!1),children:e.jsxs(u.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:a=>a.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-600 to-rose-600 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center",children:e.jsx(I,{className:"w-5 h-5 text-white"})}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"Hapus Template"})]}),e.jsx("button",{onClick:()=>g(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:e.jsx(K,{className:"w-5 h-5 text-white"})})]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-4 p-4 bg-red-50 rounded-xl border border-red-200",children:[e.jsx(I,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Yakin ingin menghapus template ini?"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Template ",e.jsxs("strong",{children:['"',b.name,'"']})," akan dihapus permanen dan tidak dapat dikembalikan."]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(n,{variant:"outline",className:"flex-1",onClick:()=>g(!1),children:"Batal"}),e.jsxs(n,{className:"flex-1 bg-gradient-to-r from-red-600 to-rose-600 hover:from-red-700 hover:to-rose-700 gap-2",onClick:X,children:[e.jsx(L,{className:"w-4 h-4"}),"Hapus Template"]})]})]})]})})}),e.jsx(A,{children:_&&w&&e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>j(!1),children:e.jsxs(u.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:a=>a.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-3 rounded-lg bg-gradient-to-br from-blue-500 to-indigo-600",children:e.jsx(T,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:"Edit Template"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Perbarui template evaluasi"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nama Template"}),e.jsx("input",{type:"text",value:i.name,onChange:a=>p(d(o({},i),{name:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Contoh: Template Interview HR"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Deskripsi"}),e.jsx("textarea",{value:i.description,onChange:a=>p(d(o({},i),{description:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Deskripsi template..."})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Kriteria Penilaian"}),e.jsxs(n,{size:"sm",variant:"outline",onClick:O,className:"gap-1",children:[e.jsx(k,{className:"w-4 h-4"}),"Tambah Kriteria"]})]}),e.jsx("div",{className:"space-y-3",children:i.criteria.map((a,s)=>e.jsx("div",{className:"p-4 border border-gray-200 rounded-lg space-y-2",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("input",{type:"text",value:a.label,onChange:r=>v(s,"label",r.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Nama kriteria"}),e.jsx("input",{type:"text",value:a.description,onChange:r=>v(s,"description",r.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Deskripsi kriteria"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs text-gray-600",children:"Bobot (%)"}),e.jsx("input",{type:"number",value:a.weight,onChange:r=>v(s,"weight",parseInt(r.target.value)||0),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",min:"0",max:"100"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs text-gray-600",children:"Skor Maksimal"}),e.jsx("input",{type:"number",value:a.maxScore,onChange:r=>v(s,"maxScore",parseInt(r.target.value)||0),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",min:"1"})]})]})]}),e.jsx(n,{size:"sm",variant:"ghost",onClick:()=>W(s),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(K,{className:"w-4 h-4"})})]})},a.id))}),e.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Total Bobot:"}),e.jsxs("span",{className:`font-semibold ${m(i.criteria)===100?"text-green-600":"text-red-600"}`,children:[m(i.criteria),"%"]})]}),m(i.criteria)!==100&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Total bobot harus 100%"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[e.jsx(n,{variant:"outline",className:"flex-1",onClick:()=>j(!1),children:"Batal"}),e.jsxs(n,{className:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 gap-2",onClick:J,disabled:m(i.criteria)!==100||!i.name,children:[e.jsx(F,{className:"w-4 h-4"}),"Simpan Perubahan"]})]})]})]})})})]})})};export{be as default};
