var V=Object.defineProperty,Y=Object.defineProperties;var z=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var T=(n,i,a)=>i in n?V(n,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[i]=a,p=(n,i)=>{for(var a in i||(i={}))$.call(i,a)&&T(n,a,i[a]);if(j)for(var a of j(i))A.call(i,a)&&T(n,a,i[a]);return n},x=(n,i)=>Y(n,z(i));var I=(n,i)=>{var a={};for(var l in n)$.call(n,l)&&i.indexOf(l)<0&&(a[l]=n[l]);if(n!=null&&j)for(var l of j(n))i.indexOf(l)<0&&A.call(n,l)&&(a[l]=n[l]);return a};import{c as J,r as d,j as e,R as X,W as q,u as W,H as b,B as Q,d as Z,q as D,V as o,F as P,Y as ee}from"./index-DOAyMAht.js";import{D as ae,a as se,b as M,c as F,d as R}from"./dialog-Bbdy6qt9.js";import{I as y}from"./input-DA4Qn8DI.js";import{T as te}from"./textarea-Bb71tWm2.js";import{P as ne}from"./index-gja3uCe8.js";import{C as ie}from"./checkbox-vbpR3msi.js";import{D as re}from"./dollar-sign-15XidCJh.js";import{U as le}from"./upload-DNvr5TZD.js";import{C as E}from"./check-circle-2-DCzZ2qMD.js";import{A as me}from"./alert-circle-D1tp5Cnd.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=J("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);var oe="Label",_=d.forwardRef((n,i)=>e.jsx(ne.label,x(p({},n),{ref:i,onMouseDown:a=>{var c;a.target.closest("button, input, select, textarea")||((c=n.onMouseDown)==null||c.call(n,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}})));_.displayName=oe;var K=_;const ce=q("text-sm font-medium leading-none text-gray-700 peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),h=d.forwardRef((l,a)=>{var c=l,{className:n}=c,i=I(c,["className"]);return e.jsx(K,p({ref:a,className:X(ce(),n)},i))});h.displayName=K.displayName;const be=({isOpen:n,onClose:i,jobData:a,onApplicationSubmitted:l})=>{const c=W(),[u,v]=d.useState(1),[C,S]=d.useState(!1),[t,f]=d.useState({fullName:"",email:"",phone:"",cv:null,coverLetter:"",portfolio:"",agreeTerms:!1}),[L,w]=d.useState(!1);d.useEffect(()=>{if(n&&a.id){const s=localStorage.getItem(`cover_letter_draft_${a.id}`);s&&f(r=>x(p({},r),{coverLetter:s}))}},[n,a.id]),d.useEffect(()=>{if(t.coverLetter&&a.id&&u===2){const s=setTimeout(()=>{localStorage.setItem(`cover_letter_draft_${a.id}`,t.coverLetter),b.success("Draft tersimpan otomatis",{duration:1e3})},3e3);return()=>clearTimeout(s)}},[t.coverLetter,a.id,u]);const g=(s,r)=>{f(m=>x(p({},m),{[s]:r}))},B=s=>{s.target.files&&s.target.files[0]&&f(r=>x(p({},r),{cv:s.target.files[0]}))},G=()=>{S(!0);const s=JSON.parse(localStorage.getItem("simhire_simulasi_results")||"[]"),r={};s.forEach(N=>{N.score&&(r[N.categoryId||N.title]=N.score)});const m={id:crypto.randomUUID(),jobId:a.id||crypto.randomUUID(),jobTitle:a.title,company:a.company,companyLogo:a.companyLogo,location:a.location||"Remote",salary:a.salary,appliedAt:new Date().toISOString(),status:"applied",notes:t.coverLetter,simulasiScores:Object.keys(r).length>0?r:void 0,timeline:[{date:new Date().toISOString(),status:"applied",description:"Application submitted successfully"}]},O=ee(m);setTimeout(()=>{S(!1),O?(v(3),b.success("Lamaran berhasil dikirim!",{description:`Lamaran Anda untuk posisi ${a.title} di ${a.company} telah dikirim`,icon:"ðŸŽ‰",action:{label:"Lihat Status",onClick:()=>{k(),c("/dashboard/application-tracker")}}}),l&&l()):b.error("Gagal mengirim lamaran",{description:"Terjadi kesalahan saat menyimpan data"})},1500)},k=()=>{u===3&&a.id&&localStorage.removeItem(`cover_letter_draft_${a.id}`),v(1),f({fullName:"",email:"",phone:"",cv:null,coverLetter:"",portfolio:"",agreeTerms:!1}),w(!1),i()},U=s=>{const r={default:`Kepada Yth. Tim Rekrutmen ${a.company},

Saya sangat tertarik untuk melamar posisi ${s} di ${a.company}. Dengan latar belakang pengalaman saya di bidang terkait, saya yakin dapat memberikan kontribusi positif bagi tim Anda.

Saya memiliki pengalaman dalam [sebutkan pengalaman relevan] dan menguasai [sebutkan skills]. Saya sangat antusias untuk dapat bergabung dengan tim ${a.company} dan berkontribusi mencapai tujuan perusahaan.

Terima kasih atas waktu dan pertimbangan Anda. Saya berharap dapat berdiskusi lebih lanjut mengenai bagaimana saya dapat berkontribusi di ${a.company}.

Hormat saya,
${t.fullName||"[Nama Anda]"}`,developer:`Kepada Yth. Tim Rekrutmen ${a.company},

Saya menulis surat ini untuk melamar posisi ${s}. Sebagai developer dengan pengalaman [X] tahun, saya telah mengerjakan berbagai proyek yang melibatkan teknologi modern dan best practices.

Keahlian teknis saya meliputi:
â€¢ Pengembangan aplikasi menggunakan [teknologi]
â€¢ Problem solving dan debugging yang efisien
â€¢ Kolaborasi dalam tim agile/scrum

Saya tertarik dengan ${a.company} karena reputasinya dalam inovasi teknologi. Portfolio saya dapat dilihat di ${t.portfolio||"[Link Portfolio]"}.

Saya berharap dapat mendiskusikan bagaimana skills saya dapat membantu mencapai goals tim Anda.

Best regards,
${t.fullName||"[Nama Anda]"}`,designer:`Dear Hiring Team at ${a.company},

I am excited to apply for the ${s} position. As a designer passionate about creating meaningful user experiences, I believe I would be a great fit for your team.

My design philosophy centers around:
â€¢ User-centered design thinking
â€¢ Clean, functional aesthetics
â€¢ Collaboration with developers and stakeholders

I admire ${a.company}'s commitment to excellent design and would love to contribute to your creative projects.

Thank you for considering my application. I look forward to discussing how my design skills can add value to your team.

Warm regards,
${t.fullName||"[Your Name]"}`,marketing:`Kepada Tim HR ${a.company},

Saya dengan antusias melamar posisi ${s}. Dengan pengalaman di digital marketing dan content strategy, saya siap membantu ${a.company} mencapai target growth.

Pencapaian saya meliputi:
â€¢ Meningkatkan engagement [X]% melalui kampanye kreatif
â€¢ Mengelola budget advertising dengan ROI optimal
â€¢ Menganalisis data untuk strategi berbasis insight

Saya terkesan dengan strategi marketing ${a.company} dan ingin berkontribusi dengan ide-ide fresh dan data-driven approach.

Terima kasih atas kesempatan ini.

Salam,
${t.fullName||"[Nama Anda]"}`},m=s.toLowerCase();return m.includes("developer")||m.includes("programmer")||m.includes("engineer")?r.developer:m.includes("design")||m.includes("ui")||m.includes("ux")?r.designer:m.includes("marketing")||m.includes("social media")?r.marketing:r.default},H=()=>{const s=U(a.title);f(r=>x(p({},r),{coverLetter:s})),w(!1),b.success("Template diterapkan! Silakan personalisasi sesuai kebutuhan.")};return e.jsx(ae,{open:n,onOpenChange:k,children:e.jsxs(se,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[u===1&&e.jsxs(e.Fragment,{children:[e.jsxs(M,{children:[e.jsx(F,{className:"text-2xl font-bold",children:"Lamar Pekerjaan"}),e.jsx(R,{children:"Pastikan data Anda lengkap untuk meningkatkan peluang diterima"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-primary-50 to-primary-100 rounded-xl p-4 border border-primary-200 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"w-5 h-5 text-primary-600"}),e.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:a.title})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Z,{className:"w-4 h-4"}),e.jsx("span",{children:a.company})]}),a.location&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(D,{className:"w-4 h-4"}),e.jsx("span",{children:a.location})]}),a.salary&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(re,{className:"w-4 h-4"}),e.jsx("span",{children:a.salary})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(h,{htmlFor:"fullName",children:"Nama Lengkap *"}),e.jsx(y,{id:"fullName",placeholder:"Masukkan nama lengkap Anda",value:t.fullName,onChange:s=>g("fullName",s.target.value),className:"mt-1"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{htmlFor:"email",children:"Email *"}),e.jsx(y,{id:"email",type:"email",placeholder:"email@example.com",value:t.email,onChange:s=>g("email",s.target.value),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"phone",children:"No. Telepon *"}),e.jsx(y,{id:"phone",type:"tel",placeholder:"08xxxxxxxxxx",value:t.phone,onChange:s=>g("phone",s.target.value),className:"mt-1"})]})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"cv",children:"Upload CV/Resume *"}),e.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[e.jsx(y,{id:"cv",type:"file",accept:".pdf,.doc,.docx",onChange:B,className:"hidden"}),e.jsxs(o,{type:"button",variant:"outline",onClick:()=>{var s;return(s=document.getElementById("cv"))==null?void 0:s.click()},className:"flex-1",children:[e.jsx(le,{className:"w-4 h-4 mr-2"}),t.cv?t.cv.name:"Pilih File"]}),t.cv&&e.jsx(E,{className:"w-5 h-5 text-green-600"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: PDF, DOC, DOCX (Max 5MB)"})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"portfolio",children:"Portfolio/LinkedIn (Opsional)"}),e.jsx(y,{id:"portfolio",placeholder:"https://...",value:t.portfolio,onChange:s=>g("portfolio",s.target.value),className:"mt-1"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4",children:[e.jsx(o,{variant:"outline",onClick:k,children:"Batal"}),e.jsx(o,{onClick:()=>v(2),disabled:!t.fullName||!t.email||!t.phone||!t.cv,children:"Lanjutkan"})]})]}),u===2&&e.jsxs(e.Fragment,{children:[e.jsxs(M,{children:[e.jsx(F,{className:"text-2xl font-bold",children:"Tambahkan Cover Letter"}),e.jsx(R,{children:"Ceritakan mengapa Anda cocok untuk posisi ini"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(o,{type:"button",variant:"outline",size:"sm",onClick:()=>w(!L),className:"text-xs",children:[e.jsx(P,{className:"w-3 h-3 mr-1"}),L?"Tutup Template":"Gunakan Template"]}),t.coverLetter&&e.jsx("span",{className:"text-xs text-gray-500",children:"Draft tersimpan otomatis"})]}),L&&e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm",children:"âœ¨ Template Cover Letter"}),e.jsxs("p",{className:"text-xs text-gray-600 mb-3",children:["Kami telah menyiapkan template yang disesuaikan dengan posisi ",e.jsx("span",{className:"font-semibold",children:a.title})]}),e.jsx(o,{type:"button",onClick:H,size:"sm",className:"w-full",children:"Gunakan Template Ini"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx(h,{htmlFor:"coverLetter",children:"Cover Letter *"}),e.jsxs("span",{className:`text-xs ${t.coverLetter.length<100?"text-red-600":t.coverLetter.length<200?"text-yellow-600":"text-green-600"}`,children:[t.coverLetter.length," / 500 karakter",t.coverLetter.length<100&&" (minimal 100)"]})]}),e.jsx(te,{id:"coverLetter",placeholder:`Contoh:

Kepada Yth. Tim Rekrutmen [Perusahaan],

Saya sangat tertarik untuk melamar posisi ini karena...

Pengalaman saya meliputi:
â€¢ [Pengalaman 1]
â€¢ [Pengalaman 2]

Saya yakin dapat berkontribusi...

Hormat saya,
[Nama Anda]`,value:t.coverLetter,onChange:s=>g("coverLetter",s.target.value.slice(0,500)),rows:12,className:"mt-1 resize-none font-mono text-sm"}),e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:e.jsx("div",{className:`h-1.5 rounded-full transition-all ${t.coverLetter.length<100?"bg-red-500":t.coverLetter.length<200?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(t.coverLetter.length/500*100,100)}%`}})})})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(me,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-1 text-sm",children:"ðŸ’¡ Tips Cover Letter yang Menarik"}),e.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[e.jsx("li",{children:"âœ… Jelaskan MENGAPA Anda tertarik dengan posisi & perusahaan ini"}),e.jsx("li",{children:"âœ… Sebutkan 2-3 keahlian/pengalaman yang RELEVAN dengan job description"}),e.jsx("li",{children:"âœ… Tunjukkan antusiasme dan motivasi Anda dengan contoh konkret"}),e.jsx("li",{children:"âœ… Gunakan bahasa profesional tapi tetap personal"}),e.jsx("li",{children:"âŒ Hindari copy-paste dari CV atau template generik"})]})]})]})}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ie,{id:"terms",checked:t.agreeTerms,onCheckedChange:s=>g("agreeTerms",s)}),e.jsx("label",{htmlFor:"terms",className:"text-sm text-gray-600 cursor-pointer",children:"Saya menyetujui bahwa data yang saya berikan adalah benar dan dapat digunakan oleh perusahaan untuk proses rekrutmen"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4",children:[e.jsx(o,{variant:"outline",onClick:()=>v(1),children:"Kembali"}),e.jsxs(o,{onClick:G,disabled:t.coverLetter.length<100||!t.agreeTerms||C,className:"bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800",children:[e.jsx(P,{className:"w-4 h-4 mr-2"}),C?"Mengirim...":`Kirim Lamaran ${t.coverLetter.length>=100?"âœ“":""}`]})]})]}),u===3&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full mb-4",children:e.jsx(E,{className:"w-12 h-12 text-green-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Lamaran Terkirim!"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Lamaran Anda untuk posisi ",e.jsx("span",{className:"font-semibold",children:a.title})," di ",e.jsx("span",{className:"font-semibold",children:a.company})," telah berhasil dikirim."]}),e.jsxs("div",{className:"bg-gradient-to-r from-primary-50 to-primary-100 rounded-xl p-4 mb-6 text-left",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Langkah Selanjutnya:"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary-600",children:"1."}),e.jsx("span",{children:"Perusahaan akan meninjau lamaran Anda dalam 3-5 hari kerja"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary-600",children:"2."}),e.jsx("span",{children:"Anda akan menerima notifikasi melalui email"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary-600",children:"3."}),e.jsx("span",{children:"Pantau status lamaran di halaman Application Tracker"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(o,{onClick:k,variant:"outline",className:"flex-1",children:"Kembali ke Pencarian"}),e.jsx(o,{onClick:()=>{k(),c("/dashboard/application-tracker")},className:"flex-1",children:"Lihat Status Lamaran"})]})]})})]})})};export{be as A,je as G};
