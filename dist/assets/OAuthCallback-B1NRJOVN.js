import{W as x,r,j as e,L as o,X as d,bs as u,ay as h,a3 as p,aM as g}from"./vendor-react-BSmBLsLz.js";import{m as f}from"./vendor-framer-BZ7OA_Qg.js";import"./vendor-ui-CFmJ1img.js";import"./vendor-aSpRTWdI.js";import"./vendor-utils-CBRqNeUX.js";function j(){const{search:s}=g();return new URLSearchParams(s)}const w=()=>{const s=j(),i=x(),[t,c]=r.useState("pending"),m=s.get("provider")||"google",l=s.get("state")||"/dashboard",n=s.get("code");return r.useEffect(()=>{const a=setTimeout(()=>{c(n==="mock-code"?"success":"error")},900);return()=>clearTimeout(a)},[n]),r.useEffect(()=>{if(t==="success"){const a=setTimeout(()=>{i(l)},1200);return()=>clearTimeout(a)}},[t,l,i]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-primary-900 text-white flex items-center justify-center p-6",children:e.jsxs(f.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.35},className:"w-full max-w-md text-center",children:[e.jsxs(o,{to:"/login",className:"inline-flex items-center text-sm text-gray-300 hover:text-white transition-colors mb-4",children:[e.jsx(d,{className:"w-4 h-4 mr-2"})," Kembali"]}),e.jsxs("div",{className:"bg-gray-900/70 backdrop-blur-xl rounded-card shadow-2xl border border-white/10 p-8",children:[t==="pending"?e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(u,{className:"w-8 h-8 animate-spin text-primary-400"}),e.jsxs("p",{className:"text-sm text-gray-300",children:["Memverifikasi kode ",m,"…"]})]}):null,t==="success"?e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(h,{className:"w-10 h-10 text-primary-400"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Berhasil terautentikasi"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Mengalihkan ke halaman tujuan…"})]}):null,t==="error"?e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(p,{className:"w-10 h-10 text-red-400"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Gagal memverifikasi"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Kode tidak valid. Coba ulang proses login."}),e.jsx(o,{to:"/login",className:"mt-2 text-primary-400 hover:text-primary-300",children:"Kembali ke Login"})]}):null]})]})})};export{w as default};
