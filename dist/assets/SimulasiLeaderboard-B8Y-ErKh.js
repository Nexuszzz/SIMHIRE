var H=Object.defineProperty,P=Object.defineProperties;var W=Object.getOwnPropertyDescriptors;var I=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var R=(r,t,l)=>t in r?H(r,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):r[t]=l,L=(r,t)=>{for(var l in t||(t={}))$.call(t,l)&&R(r,l,t[l]);if(I)for(var l of I(t))z.call(t,l)&&R(r,l,t[l]);return r},E=(r,t)=>P(r,W(t));import{b as J,r as x,x as Q,j as e,L as X,T as M,t as Y,G as Z,C as U,m}from"./index-Cc6i9FY3.js";import{M as ee,S as se,b as ae}from"./simulasiData-CdKkakvG.js";import{B as o}from"./badge-CUgocmjb.js";import{S as B,a as F,b as K,c as D,d as n}from"./select-CdkrUe4o.js";import{A as te}from"./arrow-left-BUBX_3m9.js";import{F as re}from"./filter-DCnUkAMa.js";import{M as d}from"./medal-tV6vZ71p.js";import{C as V}from"./crown-Bop1TcNJ.js";import"./index-BQul8VQl.js";import"./index-sIDqVUJt.js";import"./index-Bdk3QEIO.js";import"./index-DukGqCgU.js";const be=()=>{var p,j,N,y,b,f,w,u,v,S,k,A,C;J();const[r,t]=x.useState("all"),[l,_]=x.useState("all-time"),[G,O]=x.useState([]);x.useEffect(()=>{const c=[...Q(),...ee].reduce((h,g)=>(h.find(T=>T.categoryId===g.categoryId&&T.userId===g.userId)||h.push(g),h),[]);O(c)},[]);const a=G.filter(s=>r==="all"?!0:s.categoryId===r).sort((s,i)=>i.percentage-s.percentage).map((s,i)=>E(L({},s),{rank:i+1})),q=s=>s?s===1?e.jsx(V,{className:"w-6 h-6 text-yellow-500"}):s===2?e.jsx(d,{className:"w-6 h-6 text-gray-400"}):s===3?e.jsx(d,{className:"w-6 h-6 text-orange-500"}):e.jsxs("span",{className:"w-6 h-6 flex items-center justify-center text-sm font-bold text-gray-600",children:["#",s]}):e.jsx(d,{className:"w-5 h-5 text-gray-400"});return e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(X,{to:"/dashboard/simulasi-kerja",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6 transition-colors",children:[e.jsx(te,{className:"w-4 h-4"}),e.jsx("span",{children:"Kembali ke Simulasi"})]}),e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[e.jsx(M,{className:"w-8 h-8 text-yellow-500"}),"Leaderboard"]}),e.jsx("p",{className:"text-gray-600",children:"Top performers di simulasi kerja SimHire"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-yellow-500 to-orange-500 rounded-xl p-4 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(M,{className:"w-8 h-8"}),e.jsx("span",{className:"text-2xl font-bold",children:"#1"})]}),e.jsx("p",{className:"text-sm text-white/90",children:"Top Rank"}),e.jsx("p",{className:"font-semibold truncate",children:((p=a[0])==null?void 0:p.categoryName)||"-"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl p-4 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(Y,{className:"w-8 h-8"}),e.jsx("span",{className:"text-2xl font-bold",children:a.length})]}),e.jsx("p",{className:"text-sm text-white/90",children:"Total Peserta"}),e.jsx("p",{className:"font-semibold",children:"Active Candidates"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl p-4 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(Z,{className:"w-8 h-8"}),e.jsx("span",{className:"text-2xl font-bold",children:a.length>0?Math.round(a.reduce((s,i)=>s+i.percentage,0)/a.length):0})]}),e.jsx("p",{className:"text-sm text-white/90",children:"Avg Score"}),e.jsx("p",{className:"font-semibold",children:"Community Average"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl p-4 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(U,{className:"w-8 h-8"}),e.jsx("span",{className:"text-2xl font-bold",children:a.filter(s=>s.badge).length})]}),e.jsx("p",{className:"text-sm text-white/90",children:"Badges Earned"}),e.jsx("p",{className:"font-semibold",children:"Certified"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 bg-white rounded-xl p-4 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(re,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter:"})]}),e.jsxs(B,{value:r,onValueChange:t,children:[e.jsx(F,{className:"w-full sm:w-[200px]",children:e.jsx(K,{placeholder:"Semua Kategori"})}),e.jsxs(D,{children:[e.jsx(n,{value:"all",children:"Semua Kategori"}),se.map(s=>e.jsx(n,{value:s.id,children:s.name},s.id))]})]}),e.jsxs(B,{value:l,onValueChange:_,children:[e.jsx(F,{className:"w-full sm:w-[200px]",children:e.jsx(K,{placeholder:"All Time"})}),e.jsxs(D,{children:[e.jsx(n,{value:"all-time",children:"All Time"}),e.jsx(n,{value:"thisweek",children:"This Week"}),e.jsx(n,{value:"this-month",children:"This Month"})]})]})]})]}),a.length>=3&&e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"order-1",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 rounded-xl p-6 text-center border-2 border-gray-300",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-400 to-gray-500 rounded-full mx-auto mb-3 flex items-center justify-center text-white font-bold text-2xl",children:(j=a[1])==null?void 0:j.candidateName.charAt(0)}),e.jsx(d,{className:"w-10 h-10 text-gray-500 mx-auto mb-2"}),e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:(N=a[1])==null?void 0:N.candidateName}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:(y=a[1])==null?void 0:y.categoryName}),e.jsxs("div",{className:"text-2xl font-bold text-gray-700",children:[(b=a[1])==null?void 0:b.percentage,"%"]}),e.jsx(o,{className:"mt-2 bg-gray-200 text-gray-700",children:"#2"})]})}),e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0},className:"order-2",children:e.jsxs("div",{className:"bg-gradient-to-br from-yellow-100 to-orange-100 rounded-xl p-6 text-center border-2 border-yellow-400 relative -mt-4",children:[e.jsx(V,{className:"w-12 h-12 text-yellow-500 mx-auto mb-2"}),e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full mx-auto mb-3 flex items-center justify-center text-white font-bold text-3xl shadow-xl",children:(f=a[0])==null?void 0:f.candidateName.charAt(0)}),e.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-1",children:(w=a[0])==null?void 0:w.candidateName}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:(u=a[0])==null?void 0:u.categoryName}),e.jsxs("div",{className:"text-3xl font-bold text-yellow-600",children:[(v=a[0])==null?void 0:v.percentage,"%"]}),e.jsx(o,{className:"mt-2 bg-yellow-500 text-white",children:"#1 Champion"})]})}),e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"order-3",children:e.jsxs("div",{className:"bg-gradient-to-br from-orange-100 to-red-100 rounded-xl p-6 text-center border-2 border-orange-300",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-400 to-red-500 rounded-full mx-auto mb-3 flex items-center justify-center text-white font-bold text-2xl",children:(S=a[2])==null?void 0:S.candidateName.charAt(0)}),e.jsx(d,{className:"w-10 h-10 text-orange-500 mx-auto mb-2"}),e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:(k=a[2])==null?void 0:k.candidateName}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:(A=a[2])==null?void 0:A.categoryName}),e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[(C=a[2])==null?void 0:C.percentage,"%"]}),e.jsx(o,{className:"mt-2 bg-orange-200 text-orange-700",children:"#3"})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"All Rankings"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Candidate"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Breakdown"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Badge"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:a.map((s,i)=>{var c;return e.jsxs(m.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:i*.05},className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[q(s.rank),e.jsx("span",{className:`font-bold ${ae(s.rank||0)}`,children:s.rank})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full flex items-center justify-center text-white font-bold",children:((c=s.candidateName)==null?void 0:c.charAt(0))||"U"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:s.candidateName}),e.jsx("div",{className:"text-xs text-gray-500",children:s.completedAt&&new Date(s.completedAt).toLocaleDateString("id-ID")})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-700",children:s.categoryName})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[s.percentage,"%"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[s.totalScore,"/",s.maxScore]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsxs("div",{className:"text-xs",children:[e.jsx("span",{className:"text-gray-500",children:"Tech:"}),e.jsx("span",{className:"font-semibold text-blue-600 ml-1",children:s.breakdown.technical})]}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsxs("div",{className:"text-xs",children:[e.jsx("span",{className:"text-gray-500",children:"Creat:"}),e.jsx("span",{className:"font-semibold text-purple-600 ml-1",children:s.breakdown.creativity})]}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsxs("div",{className:"text-xs",children:[e.jsx("span",{className:"text-gray-500",children:"Eff:"}),e.jsx("span",{className:"font-semibold text-green-600 ml-1",children:s.breakdown.efficiency})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.badge&&e.jsxs(o,{className:"bg-yellow-100 text-yellow-700 border-yellow-300",children:[e.jsx(U,{className:"w-3 h-3 mr-1"}),s.badge]})})]},s.id)})})]})})]})]})})};export{be as default};
